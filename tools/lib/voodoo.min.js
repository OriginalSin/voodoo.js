'use strict';var e=!0,h=null,l=!1;function w(){return function(){}}
(function(f,x){function Y(){function z(a){this.fc=a||"voodoo";this.sd="["+this.fc+"]"}function H(a,b){this.width=a;this.height=b}function I(a,b){this.x=a;this.y=b}function da(){Object.defineProperty(this,"disableStencils",{get:function(){return l},set:function(){A.u("Debug settings may only be set in debug builds.","(Debug::disableStencils)")},enumerable:e});Object.defineProperty(this,"drawStencils",{get:function(){return l},set:function(){A.u("Debug settings may only be set in debug builds.","(Debug::drawStencils)")},
enumerable:e});Object.defineProperty(this,"showFps",{get:function(){return l},set:function(){A.u("Debug settings may only be set in debug builds.","(Debug::showFps)")},enumerable:e})}function L(){this.yc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",
coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",
dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",
lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",
midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",
salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}function D(){var a=this.extendableMethodStack,b;for(b in a)if(a.hasOwnProperty(b)){var c=
a[b];this[b]===c.Z[c.G]&&--c.G}this.base.Mc=this;this.construct.apply(this,arguments)}function X(a){var b=a[0],c=this,d;for(d in b)try{"function"===typeof b[d]&&(c[d]=function(a,b){return function(){for(var d,g=0,f=b.length;g<f;++g)d=b[g],d=d[a].apply(d,arguments);return d===b[b.length-1]?c:d}}(d,a))}catch(g){}}function t(a,b,c,d,g,m){this.dc=a;this.h=b;this.c=c;this.ic=d;this.wa=g;this.Cb=m;this.O=[]}function J(a){this.L=a}function M(){this.L={}}function $(){this.fa=l;this.ob=this.$a=0;this.M=x.createElement("div");
var a=this.M.style;a.position="fixed";a.zIndex=999999999;a.left="0px";a.top="0px";a.backgroundColor="black";a.color="lime";a.fontStyle="bold";a.fontSize="200%";a.fontFamily="sans-serif";this.M.display="none";var b=this;this.Ec=setInterval(function(){b.ab=b.$a;b.$c=b.ob;b.$a=0;b.ob=0},1E3)}function N(){}function y(){}function Y(){}function B(){}function aa(a){this.Ba=a;this.Nc=0;this.ga={};this.Ga=this.Ha=this.Ja=this.Ia=Number.MIN_VALUE;this.l()}function ea(){this.ua={};this.Oc=this.Pc=0;this.vb=
{}}function O(){this.ia={};this.gb=0}function P(a,b,c,d){this.p=a;this.la=b;this.Ta="undefined"===typeof d?-1:d;this.k=c;this.j=a.model}function V(){}function ga(){}function ha(){}function F(a){this.e=a;this.Sb();this.e.pa.rb(new I(0,0));this.qc();var b=this;this.e.on("removemodel",function(a){b.i&&a.model===b.i.j&&(b.i=h);if(b.R)for(var d=0;3>d;++d){var g=b.R[d];g&&a.model===g.j&&(b.R[d]=h)}if(b.X)for(d=0;3>d;++d)(g=b.X[d])&&a.model===g.j&&(b.X[d]=h)})}function p(a,b,c,d){this.c=new THREE.Camera;
this.bb=new THREE.Frustum;this.Db=a;this.Qb=b;this.J=c;this.P=d;this.Lc();this.Cc()}function Q(a){this.e=a;this.h=a.h;this.gc=new THREE.Projector}function C(a,b){this.f=a;this.p=b;this.aa=f.voodoo.engine.aa;this.ta=h;this.k=new THREE.Object3D;this.f.add(this.k);this.f.__objectsAdded=[];this.ma=[];this.ka=[];this.d=new O;var c=this;Object.defineProperty(this,"objects",{get:function(){for(var a=[],b=c.k.children,m=0,u=b.length;m<u;++m){var f=b[m];f.addedToVoodooScene&&a.push(f)}return a},enumerable:e})}
function K(){this.f=new THREE.Scene}function ba(a,b,c){this.o=a;this.f=b;this.p=c}function R(){this.o=[]}function q(a){this.e=a;this.Y=[];this.od();this.Ac();this.Bc();this.Vc();this.e.a.performanceScaling?(this.da=new $,this.cb=new Date,this.ec=l):this.da=h}function v(a){a=new k(a);for(var b in a);this.a=a;this.pd();this.eb=new M;this.aa=new ea;this.I=[];var c=this;Object.defineProperty(this,"models",{get:function(){return c.I.slice(0)},enumerable:e});this.fd();switch(a.renderer){case ia.ThreeJs:this.h=
new q(this);this.pa=new Q(this);break;default:this.pa=this.h=h,A.u("Unsupported renderer","(Engine::Engine)")}this.d=new O;this.Ma=new F(this);f.voodoo.engine=this;a.standardLighting&&(new ja({color:"white"}),new fa({color:"white"}));this.Ra=this.Sa=this.Ua=-1;b=0===this.a.updateInterval;var d=0===this.a.renderInterval;a.frameLoop&&((b||d)&&this.hc(b,d),b||(this.Ua=f.setInterval(function(){c.l()},this.a.updateInterval)),d||(this.Sa=f.setInterval(function(){c.h.T()},this.a.renderInterval)))}function k(a){if(a)for(var b in a)this[b]=
a[b]}z.prototype.Jc=w();z.prototype.j=function(a,b){var c=Array.prototype.slice.call(arguments,1);c.unshift(a.privateModelProperties.id);this.Jc.apply(this,c)};z.prototype.u=function(a){var b=Array.prototype.slice.call(arguments);b.unshift("**ERROR**");throw{name:this.fc+" exception",message:b.join(" "),toString:function(){return this.name+": "+this.message}};};var A=new z("voodoo");H.prototype.width=0;H.prototype.height=0;I.prototype.x=0;I.prototype.y=0;da.prototype.disableStencils=l;da.prototype.drawStencils=
l;da.prototype.showFps=l;this.debug=new da;L.prototype.convertCssColorToThreeJsColor=function(a){a=a.toLowerCase();return"#"===a[0]?this.Fb(a):0===a.indexOf("rgb(")?(a=a.substring(4,a.length-1).split(","),this.Gb(a[0],a[1],a[2])):0===a.indexOf("rgba(")?(a=a.substring(5,a.length-1).split(","),this.Gb(a[0],a[1],a[2])):0===a.indexOf("hsl(")?(a=a.substring(4,a.length-1).split(","),this.Eb(a[0],a[1],a[2])):0===a.indexOf("hsla(")?(a=a.substring(5,a.length-1).split(","),this.Eb(a[0],a[1],a[2])):this.zc(a)};
L.prototype.findAbsolutePosition=function(a){var b=0,c=0;if(a.offsetParent){do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent)}return{x:b,y:c}};L.prototype.Fb=function(a){return new THREE.Color(parseInt("0x"+a.substring(1),16))};L.prototype.Gb=function(a,b,c){a=parseFloat(a)/255;b=parseFloat(b)/255;c=parseFloat(c)/255;return(new THREE.Color).setRGB(a,b,c)};L.prototype.Eb=function(a,b,c){a=parseFloat(a);b=parseFloat(b)/100;c=parseFloat(c)/100;b*=1-Math.abs(2*c-1);var d=a/60,g=b*(1-Math.abs(parseInt(d,
10)%2-1)),m=a=0,u=0;0<=d&&1>d?(a=b,m=g):1<=d&&2>d?(a=g,m=b):2<=d&&3>d?(m=b,u=g):3<=d&&4>d?(m=g,u=b):4<=d&&5>d?(a=g,u=b):5<=d&&6>d&&(a=b,u=g);c-=0.5*b;return(new THREE.Color).setRGB(a+c,m+c,u+c)};L.prototype.zc=function(a){return this.Fb(this.yc[a.toLowerCase()])};this.utility=new L;D.prototype.construct=function(){A.u("Extendable::construct not implemented","(Extendable::construct)")};D.prototype.base={};D.extend=function(a){function b(){D.apply(this,arguments)}function c(a,b,c){var d=a[b];d||(d=
a[b]={Z:[],G:-1});a=d.Z;a[d.G]!==c&&(a.push(c),++d.G)}function d(){var a=m.base={},b;for(b in E)if(E.hasOwnProperty(b)){var c=E[b];a[b]=function(a,b,c){return function(){if(0<=b.G){var d=b.G--;try{var g=c[d].apply(a.Mc,arguments)}catch(m){throw b.G=b.Z.length-1,m;}++b.G;return g}}}(a,c,c.Z)}}b.extend=D.extend;var g=this.prototype,m=b.prototype,u;for(u in g)g.hasOwnProperty(u)&&(m[u]=g[u]);var f=g.extendableMethodStack,E=m.extendableMethodStack={},s;for(s in f)if(f.hasOwnProperty(s)){var k=f[s];E[s]=
{Z:k.Z.slice(0),G:k.G}}for(s in g)f=g[s],"function"===typeof f&&g.hasOwnProperty(s)&&c(E,s,f);if(!a)return d(),b;"function"===typeof a&&(a=a.prototype);if(g=a.extendableMethodStack)for(s in g)if(g.hasOwnProperty(s))for(var f=g[s].Z,k=0,r=f.length;k<r;++k)c(E,s,f[k]);for(u in a)a.hasOwnProperty(u)&&(s=a[u],s!==g&&("function"===typeof s&&c(E,u,s),m[u]=s));d();return b};this.Extendable=D;var G={Above:1,Below:2,BelowStencil:3,Seam:4,SeamStencil:5};t.prototype.sc=function(a){this.O.push(a)};t.prototype.ha=
function(){for(var a=0,b=this.O.length;a<b;++a){var c=this.O[a].scene;c.H=l;c.Za=l}};t.prototype.W=function(){for(var a=this.c.bb,b=0,c=this.O.length;b<c;++b){var d=this.O[b],g=d.scene;if(d.loaded){if(g.Za)return e;if(g.H){d=g.ka;if(d.length!==g.ma.length)return e;for(var g=0,m=d.length;g<m;++g){var f=d[g];if(f.geometry&&(f.updateMatrixWorld(e),a.intersectsObject(f)))return e}}}}return l};t.prototype.Zc=function(a){this.O.splice(this.O.indexOf(a),1)};t.prototype.Cb=h;t.prototype.c=h;t.prototype.dc=
h;t.prototype.h=h;t.prototype.ic=h;t.prototype.wa=h;t.prototype.O=h;J.prototype["delete"]=function(a,b,c){delete this.Ca(b,c)[a]};J.prototype.get=function(a,b,c){return this.Ca(b,c)[a]};J.prototype.has=function(a,b,c){return this.Ca(b,c).hasOwnProperty(a)};J.prototype.set=function(a,b,c,d){this.Ca(c,d)[a]=b};J.prototype.Ca=function(a,b){var c,d;a?(c=a,d=b||"*"):(c=this.ac,d=this.bc);this.L.hasOwnProperty(d)||(this.L[d]={});d=this.L[d];d.hasOwnProperty(c)||(d[c]={});return d[c]};J.prototype.ac="";
J.prototype.bc="";M.prototype.Hb=function(a){var b=new J(this.L);b.ac=a.name;b.bc=a.organization;return b};var ca=0,r=D.extend();r.prototype.cleanUp=function(){var a=this.base.cleanUp;"function"===typeof a&&a()};r.prototype.construct=function(a){!this.viewType.prototype.above&&!this.viewType.prototype.below&&A.u("View must exist on at least one layer.","(Model::Model)");this.stencilViewType=this.stencilViewType||this.viewType;var b=this.privateModelProperties={},c="<"+ ++ca+",";"*"!==this.organization&&
(c+=this.organization+".");c+=this.name+">";b.id=c;A.j(this,"Constructing");c=f.voodoo;c.engine||(c.engine=new v(new k));c=c.engine;b.d=new O;var d=b.L=c.eb.Hb(this);Object.defineProperty(this,"cache",{get:function(){return d},enumerable:e});this.initialize(a||{});a=b.O=[];var g=b.td=[];b.Na=0;b.Oa=0;Object.defineProperty(this,"loaded",{get:function(){return b.Na===b.Oa},enumerable:e});for(var m=this.stencilViewType===this.viewType,u=this.viewType.prototype,Z=u.above,u=u.below,E=c.h.Y,s=0,r=E.length;s<
r;++s){var n=E[s];switch(n.dc){case G.Above:Z&&a.push(new this.viewType(this,n));break;case G.Below:u&&a.push(new this.viewType(this,n));break;case G.Seam:Z&&a.push(new this.viewType(this,n));break;case G.BelowStencil:u&&(m?a.push(new this.viewType(this,n)):g.push(new this.stencilViewType(this,n)));break;case G.SeamStencil:u&&(m?a.push(new this.viewType(this,n)):g.push(new this.stencilViewType(this,n)))}}var m=a.length,Z=g.length,q=b.p=1<m?new X(a):a[0],t=b.kc=1<Z?new X(g):g[0];b.Oa=m+Z;Object.defineProperty(this,
"view",{get:function(){return q},enumerable:e});Object.defineProperty(this,"stencilView",{get:function(){return t},enumerable:e});this.setUpViews();c.rc(this)};r.prototype.destroy=function(){A.j(this,"Destroying");var a=this.privateModelProperties,b=f.voodoo,c=new b.Event("destroy",this);a.d.t(this,c);this.tearDownViews();b.engine.Yc(this);b=a.p;c=a.kc;b&&b.destroy&&b.destroy();c&&c.destroy&&c.destroy();this.cleanUp();a.d.n();a.d=h;a.p=h;a.kc=h};r.prototype.dispatch=function(a){this.privateModelProperties.d.t(this,
a);return this};r.prototype.initialize=function(a){var b=this.base.initialize;"function"===typeof b&&b(a)};r.prototype.off=function(a,b){this.privateModelProperties.d.hb(a,b);return this};r.prototype.on=function(a,b){var c=this.privateModelProperties;c.d.ib(a,b);"load"===a&&c.Na===c.Oa&&b.call(this,new f.voodoo.Event("load",this));return this};r.prototype.setUpViews=function(){var a=this.base.setUpViews;"function"===typeof a&&a()};r.prototype.tearDownViews=function(){var a=this.base.tearDownViews;
"function"===typeof a&&a()};r.prototype.update=function(a){var b=this.base.update;"function"===typeof b&&b(a)};r.prototype.cache=h;r.prototype.loaded=l;r.prototype.stencilView=h;r.prototype.view=h;r.prototype.onViewLoad=function(){var a=this.privateModelProperties;a.Na++;if(a.Na===a.Oa){var b=new f.voodoo.Event("load",this);a.d.t(this,b)}};r.prototype.name=h;r.prototype.organization="*";r.prototype.viewType=h;r.prototype.stencilViewType=h;r.extend=function(a){var b=D.extend.call(this,a),c=b.prototype,
d=this.prototype,g=d.name,m=c.name;g&&(m&&m!==g)&&(c.name=g+"."+m);m=d.viewType;g=c.viewType;m&&(g&&m!==g)&&(c.viewType=m.extend(g));d=d.stencilViewType||m;a=("function"===typeof a?a.prototype:a)||{};a=a.stencilViewType||g;d&&(a&&d!==a)&&(c.stencilViewType=d.extend(a));b.extend=r.extend;return b};this.Model=r;var n=D.extend();n.prototype.construct=function(a,b){var c=this.privateViewProperties={},d=this;Object.defineProperty(this,"cache",{get:function(){return c.L},enumerable:e});Object.defineProperty(this,
"camera",{get:function(){return c.Ka.c},enumerable:e});Object.defineProperty(this,"loaded",{get:function(){return c.Ea},set:function(a){c.Ea=a;if(c.Ea)c.j.onViewLoad(d)},enumerable:e});Object.defineProperty(this,"model",{get:function(){return c.j},enumerable:e});Object.defineProperty(this,"renderer",{get:function(){return c.Ka.h},enumerable:e});Object.defineProperty(this,"scene",{get:function(){return c.f},enumerable:e});Object.defineProperty(this,"triggers",{get:function(){return c.o},enumerable:e});
c.j=a;c.Ka=b;c.f=b.ic.Jb(this);c.o=b.wa.Kb(this);c.L=b.Cb.Hb(a);this.dirty();b.sc(this);c.Ea=e;this.load();if(c.Ea)a.onViewLoad(this)};n.prototype.destroy=function(){this.unload();var a=this.privateViewProperties;a.o.n();a.f.n();a.Ka.Zc(this);a.j=h;a.o=h;a.f=h;a.Ka=h;a.L=h};n.prototype.dirty=function(){this.privateViewProperties.f.H=e};n.prototype.load=function(){var a=this.base.load;"function"===typeof a&&a()};n.prototype.unload=function(){var a=this.base.unload;"function"===typeof a&&a()};n.prototype.above=
e;n.prototype.below=e;n.prototype.cache=h;n.prototype.camera=h;n.prototype.loaded=h;n.prototype.model=h;n.prototype.renderer=h;n.prototype.scene=h;n.prototype.triggers=h;n.extend=function(a){a=D.extend.call(this,a);var b=a.prototype,c=this.prototype;this!==n&&(b.above=b.above||c.above,b.below=b.below||c.below);a.extend=n.extend;return a};this.View=n;$.prototype.n=function(){this.fa&&(this.M.display="none",x.body.removeChild(this.M),this.fa=l);f.clearInterval(this.Ec)};$.prototype.Fc=function(){this.$a++;
f.voodoo.debug.showFps?(this.fa||(this.M.display="block",x.body.appendChild(this.M),this.fa=e),this.M.innerHTML="Frames/second: "+this.ab+", Renders/second: "+this.$c):this.fa&&(this.M.display="none",x.body.removeChild(this.M),this.fa=l)};$.prototype.T=function(){this.ob++};$.prototype.ab=0;N.prototype.position={};N.prototype.position.x=0;N.prototype.position.y=0;N.prototype.position.z=0;N.prototype.zNear=0;N.prototype.zFar=0;y.prototype.add=w();y.prototype.attach=w();y.prototype.detach=w();y.prototype.localToPage=
function(){return{}};y.prototype.off=w();y.prototype.on=w();y.prototype.pageToLocal=function(){return{}};y.prototype.remove=w();y.prototype.objects=h;y.prototype.n=w();y.prototype.H=e;y.prototype.Za=e;y.prototype.ma=h;y.prototype.ka=h;Y.prototype.Jb=function(){A.u("createScene_() undefined.");return h};var ia={ThreeJs:0};this.Renderer=ia;B.prototype.Wa=w();B.prototype.n=w();B.prototype.cc=w();B.prototype.T=w();B.prototype.qb=w();B.prototype.U=h;B.prototype.V=h;B.prototype.ca=h;B.prototype.qa=h;B.prototype.ra=
h;B.prototype.wb=h;aa.prototype.pc=function(a){var b=this.Nc++;this.ga[b]=a;this.fb++;a(this.Ia,this.Ja,this.Ha,this.Ga,e,e);return b};aa.prototype.Wc=function(a){delete this.ga[a];this.fb--};aa.prototype.l=function(){var a=f.voodoo.utility.findAbsolutePosition(this.Ba),b=this.Ba.offsetWidth,c=this.Ba.offsetHeight,d=a.x!==this.Ia||a.y!==this.Ja,g=b!==this.Ha||c!==this.Ga;if(d||g){this.Ia=a.x;this.Ja=a.y;this.Ha=b;this.Ga=c;for(var m in this.ga)this.ga.hasOwnProperty(m)&&this.ga[m].call(h,this.Ia,
this.Ja,this.Ha,this.Ga,d,g)}};aa.prototype.fb=0;ea.prototype.jd=function(a,b){var c,d;a.hasOwnProperty("VoodooTrackedElementId")?(d=a.VoodooTrackedElementId,c=this.ua[d]):(d=a.VoodooTrackedElementId=this.Pc++,c=this.ua[d]=new aa(a));var g=c.pc(b),m=this.Oc++;this.vb[m]={ld:d,kd:c,xc:g};return m};ea.prototype.Xc=function(a){var b=this.vb[a],c=b.kd,d=b.ld,b=b.xc;delete this.vb[a];c.Wc(b);0===c.fb&&(delete this.ua[d],delete c.Ba.VoodooTrackedElementId)};ea.prototype.l=function(){for(var a in this.ua)this.ua[a].l()};
O.prototype.n=function(){S.sa-=this.gb;this.ia=h};O.prototype.t=function(a,b){var c=this.ia[b.type];if(c)for(var d=0,g=c.length;d<g;++d)c[d].call(a,b)};O.prototype.hb=function(a,b){S.Ub(a)&&(S.sa--,this.gb--);var c=this.ia[a];c&&c.indexOf(b)&&c.splice(c.indexOf(b),1)};O.prototype.ib=function(a,b){S.Ub(a)&&(S.sa++,this.gb++);var c=this.ia[a];c||(c=this.ia[a]=[]);-1===c.indexOf(b)&&c.push(b)};P.prototype.Da=function(a){return!!a&&this.j===a.j&&this.Ta===a.Ta};P.prototype.j=h;P.prototype.la=h;P.prototype.k=
h;P.prototype.Ta=-1;P.prototype.p=h;this.m=function(a,b,c){this.type=a;this.model=b;this.triggerId="undefined"===typeof c?-1:c};this.m.prototype.Kc=function(a,b,c,d,g,m){this.page.x=a;this.page.y=b;this.hit.x=c;this.hit.y=d;this.hit.z=g;this.button=m||0};this.m.prototype.button=0;this.m.prototype.hit={};this.m.prototype.hit.x=Number.MAX_VALUE;this.m.prototype.hit.y=Number.MAX_VALUE;this.m.prototype.hit.z=Number.MAX_VALUE;this.m.prototype.model=h;this.m.prototype.object=h;this.m.prototype.page={};
this.m.prototype.page.x=Number.MAX_VALUE;this.m.prototype.page.y=Number.MAX_VALUE;this.m.prototype.size={};this.m.prototype.size.x=Number.MAX_VALUE;this.m.prototype.size.y=Number.MAX_VALUE;this.m.prototype.type=h;this.m.prototype.triggerId=-1;this.Event=this.m;var S={sa:0,Ub:function(a){return"mouseup"===a||"mousedown"===a||"click"===a||"dblclick"===a||"mousemove"===a||"mouseover"===a||"mouseout"===a}};V.prototype.add=w();V.prototype.cursor=function(a){this.Lb=a};V.prototype.remove=w();V.prototype.n=
w();V.prototype.Lb="auto";ga.prototype.Kb=function(){A.u("createTriggers_() undefined.");return h};ga.prototype.o=h;ha.prototype.Qa=function(){A.u("raycast_() undefined.");return h};ha.prototype.rb=function(){A.u("setMouse_() undefined.")};F.prototype.qc=function(){var a=this;x.addEventListener("mousemove",function(b){a.Rc(b)},l);x.addEventListener("mousedown",function(b){a.Qc(b)},l);x.addEventListener("mouseup",function(b){a.Sc(b)},l)};F.prototype.n=function(){this.Sb();this.e=h};F.prototype.C=function(a,
b,c,d){a=b===h?new f.voodoo.Event(a,h):new f.voodoo.Event(a,b.j,b.Ta);a.Kc(this.Xa+f.pageXOffset,this.Ya+f.pageYOffset,this.Yb,this.Zb,this.$b,c);(d||b).j.dispatch(a)};F.prototype.Sb=function(){this.i=h;this.R=[h,h,h];this.X=[h,h,h];this.rd=l;this.jb=[l,l,l];this.Pa=l;this.$b=this.Zb=this.Yb=this.Ya=this.Xa=0;this.Xb=[h,h,h];this.Vb=[0,0,0];this.Wb=[0,0,0]};F.prototype.Qc=function(a){if(this.i!==h){a.preventDefault();var b=a.button,c=this.X[b],d=new Date-this.Xb[b],g=this.R[b]=this.i;this.C("mousedown",
this.i,b);g.Da(c)&&(this.Vb[b]===a.clientX&&this.Wb[b]===a.clientY&&d<=this.e.a.Dc)&&(this.jb[b]=e)}};F.prototype.Rc=function(a){this.i!==h&&a.preventDefault();this.Xa=a.clientX;this.Ya=a.clientY;this.Pa=e;this.e.a.realtime&&this.l()};F.prototype.Sc=function(a){var b=a.button;if(this.i){a.preventDefault();this.C("mouseup",this.i,b);var c=this.R[b],d=this.X[b];c&&this.i!==c&&this.C("mouseup",this.i,b,c);this.i.Da(c)&&(this.C("click",c,b),this.jb[b]&&c.Da(d)?(this.X[b]=h,this.jb[b]=l,this.C("dblclick",
c,b)):(this.X[b]=c,this.Xb[b]=new Date,this.Vb[b]=a.clientX,this.Wb[b]=a.clientY))}else(c=this.R[b])&&this.C("mouseup",h,b,c);this.R[b]=h};F.prototype.Qa=function(){var a=this.e.pa.Qa();this.Yb=a.Gc;this.Zb=a.Hc;this.$b=a.Ic;return a.va};F.prototype.l=function(){var a=this.e,b=a.pa,a=a.h;this.Pa&&b.rb(new I(this.Xa,this.Ya));if(!(0>=S.sa)){for(var b=this.Qa(),c=0;3>c;++c){var d=this.R[c];d&&b!==d&&this.C("mousemove",b,c,d)}b!==h?(this.Pa&&this.C("mousemove",b),b.Da(this.i)||(this.i!==h&&this.C("mouseout",
this.i),this.C("mouseover",b)),a.Wa(e)):(this.i!==h&&this.C("mouseout",this.i),a.Wa(l));this.i=b;this.Pa=l;this.i!==h?a.qb(this.i.k.Lb):a.qb("auto")}};p.prototype=new N;p.prototype.Ib=function(){if(0===this.Qb){var a=f.innerWidth/2,b=f.innerHeight/2;this.c.projectionMatrix.makeOrthographic(-a,a,b,-b,this.J,this.P)}else this.c.projectionMatrix.makePerspective(this.Pb,this.yb,this.J,this.P)};p.prototype.Cc=function(){var a=this;Object.defineProperty(this,"position",{get:function(){var b=a.c.position;
return{x:b.x,y:b.y,z:b.z}},enumerable:e});Object.defineProperty(this,"zNear",{get:function(){return a.J},enumerable:e});Object.defineProperty(this,"zFar",{get:function(){return this.P},enumerable:e})};p.prototype.Lc=function(){this.oa=this.kb=this.lb=e;var a=this.c.up;a.x=0;a.y=-1;a.z=0;this.ea();this.l();var b=this;f.addEventListener("scroll",function(){b.na()},l);f.addEventListener("resize",function(){b.ea()},l);this.D=e};p.prototype.na=function(){this.lb=e};p.prototype.ea=function(){this.kb=e;
this.na()};p.prototype.$=function(a,b){this.J=a;this.P=b;this.Ib();this.oa=e;this.l()};p.prototype.l=function(){if(this.kb){var a=this.Db.style,b=parseInt(a.width,10),a=parseInt(a.height,10);this.yb=b/a;var c=this.Qb||30;this.Pb=b>a?c/this.yb:c;b=Math.tan(this.Pb/360*Math.PI);this.qd=a/2/b;this.Ib();this.c.position.z=this.qd;this.c.scale.x=-1;this.kb=l;this.oa=this.D=e}this.lb&&(a=this.Db.style,b=parseInt(a.width,10),a=parseInt(a.height,10),c=this.c.position,c.x=b/2+f.pageXOffset,c.y=a/2+f.pageYOffset,
this.c.lookAt(new THREE.Vector3(c.x,c.y,0)),this.lb=l,this.oa=this.D=e);this.oa&&(this.c.updateMatrixWorld(e),b=new THREE.Matrix4,b.getInverse(this.c.matrixWorld),this.bb.setFromMatrix((new THREE.Matrix4).multiplyMatrices(this.c.projectionMatrix,b)),this.oa=l)};p.prototype.c=h;p.prototype.bb=h;p.prototype.D=l;Q.prototype=new ha;Q.prototype.Mb=function(a,b){for(var c=this.h.U.wa.o,d=0,g=c.length;d<g;++d){var m=c[d],f=m.j,k=this.nc.intersectObject(m.la,e);if(!(0>=k.length)){var n=k[0],k=n.distance,
n=n.point;if(!(0>=k||k>=a.Aa)){var s=this.e.a;if(!s.belowLayer||!(0>n.z&&m.p.below&&s.stencils&&f.viewType!==f.stencilViewType&&-1===b.indexOf(f)))a.Aa=k,a.va=m,a.nb=n}}}return a};Q.prototype.Nb=function(a,b){for(var c=this.h.V.wa.o,d=0,g=c.length;d<g;++d){var m=c[d],f=m.j,k=m.la,n=this.e.a;if(!n.aboveLayer||!f.view.above)if(k=this.zb.intersectObject(k,e),!(0>=k.length)){var s=k[0],k=s.point,s=s.distance;if(!(0<=k.z)&&!(0>=s||s>=a.Aa))if(!n.stencils||!(f.viewType!==f.stencilViewType&&-1===b.indexOf(f)))a.Aa=
s,a.va=m,a.nb=k}}return a};Q.prototype.Ob=function(){for(var a=[],b=this.h.ca.wa.o,c=0,d=b.length;c<d;++c){var g=b[c],f=g.la,k=g.j;k.viewType!==k.stencilViewType&&g.p.below&&-1===b.indexOf(k)&&0<this.zb.intersectObject(f,e).length&&a.push(k)}return a};Q.prototype.Qa=function(){var a={Aa:Number.MAX_VALUE,va:h,nb:h},b=this.e.a,c=b.belowLayer,d=b.aboveLayer;c&&d?(b=b.stencils?this.Ob():[],a=this.Mb(a,b),a=this.Nb(a,b)):d?a=this.Mb(a,[]):c&&(b=this.Ob(),a=this.Nb(a,b));b=a.nb;return{va:a.va,Gc:b?b.x:
Number.MAX_VALUE,Hc:b?b.y:Number.MAX_VALUE,Ic:b?b.z:Number.MAX_VALUE}};Q.prototype.rb=function(a){var b=this.h.wb,c=2*(a.x/b.width)-1;a=2*-(a.y/b.height)+1;this.e.a.aboveLayer&&(b=this.h.U.c.c,this.xa=new THREE.Vector3(c,a,1),this.gc.unprojectVector(this.xa,b),this.xa=this.xa.sub(b.position).normalize(),this.nc=new THREE.Raycaster(b.position,this.xa));this.e.a.belowLayer&&(b=this.h.V.c.c,this.ya=new THREE.Vector3(c,a,1),this.gc.unprojectVector(this.ya,b),this.ya=this.ya.sub(b.position).normalize(),
this.zb=new THREE.Raycaster(b.position,this.ya))};C.prototype=new y;C.prototype.add=function(a){a.addedToVoodooTriggers?a.visible=e:this.k.add(a);a.addedToVoodooScene=e;this.ma.push(a);this.Tb(a)&&this.ka.push(a);this.H=e;var b=new f.voodoo.Event("add");b.object=a;this.d.t(this.p,b)};C.prototype.attach=function(a,b,c,d){var g="undefined"!==typeof b?b:e,m="undefined"!==typeof c?c:e,k="undefined"!==typeof d?d:e;this.ta!==h&&this.detach();var n=f.voodoo.Event,r=this;a&&(this.ta=this.aa.jd(a,function(b,
c,d,f,q,v){var t=r.k,p=t.position,t=t.scale;g?(p.x=b+d/2,p.y=c+f/2):(p.x=b,p.y=c);m?t.x=t.y=1:(t.x=d,t.y=f);t.z=k?(t.x+t.y)/2:1;r.k.updateMatrixWorld(e);r.H=e;q&&(q=new n("move"),q.object=a,p=q.page,p.x=b,p.y=c,p=q.size,p.x=d,p.y=f,r.d.t(h,q));v&&(q=new n("resize"),q.object=a,p=q.page,p.x=b,p.y=c,p=q.size,p.x=d,p.y=f,r.d.t(h,q))}),b=new n("attach"),b.object=a,this.d.t(this.p,b))};C.prototype.detach=function(){var a=new f.voodoo.Event("detach");this.d.t(h,a);this.aa.Xc(this.ta);this.ta=h;var a=this.k.position,
b=this.k.scale;a.x=a.y=0;b.x=b.y=1;this.k.updateMatrixWorld(e)};C.prototype.localToPage=function(a){var b=this.k.position,c=this.k.scale;return"undefined"!==typeof a.x?{x:a.x*c.x+b.x,y:a.y*c.y+b.y,z:a.z*c.z+b.z}:[a[0]*c.x+b.x,a[1]*c.y+b.y,a[2]*c.z+b.z]};C.prototype.off=function(a,b){this.d.hb(a,b)};C.prototype.on=function(a,b){this.d.ib(a,b)};C.prototype.pageToLocal=function(a){var b=this.k.position,c=this.k.scale;return"undefined"!==typeof a.x?{x:(a.x-b.x)/c.x,y:(a.y-b.y)/c.y,z:(a.z-b.z)/c.z}:[(a[0]-
b.x)/c.x,(a[1]-b.y)/c.y,(a[2]-b.z)/c.z]};C.prototype.remove=function(a){var b=new f.voodoo.Event("remove");b.object=a;this.d.t(this.p,b);a.addedToVoodooTriggers?a.visible=l:this.k.remove(a);a.addedToVoodooScene=l;b=this.ma.indexOf(a);-1!==b&&this.ma.splice(b,1);this.Tb(a)&&(b=this.ka.indexOf(a),-1!==b&&this.ka.splice(b,1));this.Za=e};C.prototype.n=function(){this.f.remove(this.k);this.f.__objectsRemoved=[];this.ta!==h&&this.detach();this.d.n();this.k=this.p=this.f=this.d=h};C.prototype.Tb=function(a){return a instanceof
THREE.Mesh||a instanceof THREE.MorphAnimMesh||a instanceof THREE.SkinnedMesh||a instanceof THREE.Line};K.prototype=new Y;K.prototype.Jb=function(a){return new C(this.f,a)};K.prototype.f=h;ba.prototype=new V;ba.prototype.add=function(a,b){var c=new P(this.p,a,this,b);this.o.push(c);a.addedToVoodooScene||(a.visible=l,this.f.add(a));a.addedToVoodooTriggers=e};ba.prototype.remove=function(a){for(var b=0,c=this.o.length;b<c;++b)this.o[b].la===a&&this.o.splice(b,1);a.addedToVoodooScene&&this.f.remove(a);
a.addedToVoodooTriggers=l};ba.prototype.n=function(){this.p=this.f=this.o=h};R.prototype=new ga;R.prototype.Kb=function(a){return new ba(this.o,a.scene.f,a)};q.prototype=new B;q.prototype.Wa=function(a){var b=this.e.a;a?(b.aboveLayer&&(this.Q.style.pointerEvents="auto"),b.belowLayer&&(this.K.style.pointerEvents="auto"),b.seamLayer&&(this.N.style.pointerEvents="auto")):(b.aboveLayer&&(this.Q.style.pointerEvents="none"),b.belowLayer&&(this.K.style.pointerEvents="none"),b.seamLayer&&(this.N.style.pointerEvents=
"none"))};q.prototype.Ac=function(){this.Va=1;var a=this.e.a,b=a.aboveLayer,c=a.belowLayer,d={antialias:a.antialias,alpha:e};b&&(this.ba=new THREE.WebGLRenderer(d),this.Q=this.ba.domElement,this.sb(this.ba),this.Q.style.zIndex=a.aboveZIndex);c&&(this.s=new THREE.WebGLRenderer(d),this.K=this.s.domElement,this.sb(this.s),this.K.style.zIndex=a.belowZIndex);b&&this.ba.context.getContextAttributes().antialias||c&&this.s.context.getContextAttributes().antialias||(a.antialias=l,a.seamLayer=l);if(!b||!c)a.seamLayer=
l;a.seamLayer&&(this.F=new THREE.WebGLRenderer({antialias:l,alpha:e}),this.N=this.F.domElement,this.sb(this.F),this.N.style.zIndex=a.seamZIndex);this.ea(l);this.na(l)};q.prototype.Bc=function(){var a=this.e.a,b=a.renderer,c=a.fov,d=a.J,g=a.P;a.aboveLayer&&(this.A=new p(this.Q,c,d,g),this.xb=new K,this.oc=new R,this.mc=new M,this.U=new t(G.Above,b,this.A,this.xb,this.oc,this.mc),this.Y.push(this.U));a.belowLayer&&(this.B=new p(this.K,c,d,g),this.Ab=new K,this.wc=new R,this.tc=new M,this.V=new t(G.Below,
b,this.B,this.Ab,this.wc,this.tc),this.Y.push(this.V),a.stencils&&(this.v=new p(this.K,c,d,g),this.Bb=new K,this.vc=new R,this.uc=new M,this.ca=new t(G.BelowStencil,b,this.v,this.Bb,this.vc,this.uc),this.Y.push(this.ca)));a.seamLayer&&(this.q=new p(this.N,c,d,g),this.pb=new K,this.ed=new R,this.ad=new M,this.qa=new t(G.Seam,b,this.q,this.pb,this.ed,this.ad),this.Y.push(this.qa),a.stencils&&(this.v||(this.v=new p(this.N,c,d,g)),this.jc=new K,this.dd=new R,this.cd=new M,this.ra=new t(G.SeamStencil,
b,this.v,this.jc,this.dd,this.cd),this.Y.push(this.ra)));this.mb=l;this.lc();var m=this;f.addEventListener("resize",function(){m.mb=e},l)};q.prototype.n=function(){var a=this.e.a,b=x.body;a.aboveLayer&&b.removeChild(this.Q);a.belowLayer&&b.removeChild(this.K);a.seamLayer&&b.removeChild(this.N);a.performanceScaling&&this.da.n()};q.prototype.W=function(a){return this.H?e:!a?l:a.W()};q.prototype.cc=function(){this.cb=new Date};q.prototype.ea=function(a){function b(a,b){a.setViewport(0,0,n,p);var c=b.style;
c.width=g;c.height=m;b.width=n;b.height=p}this.nd();var c=this.wb,d=c.width,c=c.height,g=d+"px",m=c+"px",k=f.devicePixelRatio||1,n=d*k*this.Va,p=c*k*this.Va,d=this.e.a;d.aboveLayer&&b(this.ba,this.Q);d.belowLayer&&b(this.s,this.K);d.seamLayer&&b(this.F,this.N);c=x.body.style;c.display="none";c.display="block";this.H=e;d.realtime&&a&&this.T()};q.prototype.na=function(a){this.tb=f.pageXOffset+"px";this.ub=f.pageYOffset+"px";this.H=e;this.e.a.realtime&&a&&this.T()};q.prototype.Vc=function(){var a=this;
f.addEventListener("scroll",function(){a.na.call(a,e)},l);f.addEventListener("resize",function(){a.ea.call(a,e)},l)};q.prototype.T=function(){var a;a=l;var b=this.e.a,c=b.aboveLayer,d=b.belowLayer,g=b.seamLayer,f=b.stencils,k=b.performanceScaling;this.md();k&&(this.da.Fc(),k&&!this.ec&&(this.da.ab>b.Tc||0===this.e.S?this.cb=new Date:(new Date-this.cb)/1E3>b.Uc&&(this.Va=0.5,this.ec=e,this.ea(l))));if(d&&(this.W(this.V)||this.W(this.ca)))f?(a=this.s.context,a.enable(a.STENCIL_TEST),a.clearStencil(0),
a.stencilOp(a.REPLACE,a.REPLACE,a.REPLACE),a.stencilFunc(a.NEVER,1,4294967295),this.s.autoClear=l,this.s.clear(),this.s.render(this.Bb.f,this.v.c),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.stencilFunc(a.EQUAL,1,4294967295)):(a=this.s.context,a.disable(a.STENCIL_TEST),this.s.autoClear=e),this.s.render(this.Ab.f,this.B.c),a=e;c&&this.W(this.U)&&(this.ba.render(this.xb.f,this.A.c),a=e);if(g&&(this.W(this.qa)||this.W(this.ra)))a=b.bd,d=this.q.position.z,c=d-a,g=d+a,a=this.F.context,a.enable(a.STENCIL_TEST),
this.F.autoClear=l,this.F.clear(),f?(a.clearStencil(1),a.stencilOp(a.REPLACE,a.REPLACE,a.REPLACE),a.stencilFunc(a.NEVER,0,4294967295),this.F.render(this.jc.f,this.v.c),this.q.$(c,d),this.F.render(this.pb.f,this.q.c)):a.clearStencil(0),f=this.pb.f,d=this.q.c,a.stencilOp(a.REPLACE,a.REPLACE,a.REPLACE),a.stencilFunc(a.NEVER,1,4294967295),this.q.$(b.J,c),this.F.render(f,d),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),a.stencilFunc(a.NOTEQUAL,1,4294967295),this.q.$(c,g),this.F.render(f,d),a=e;b.aboveLayer&&(this.ba.context.finish(),
f=this.Q.style,f.left=this.tb,f.top=this.ub);b.belowLayer&&(this.s.context.finish(),f=this.K.style,f.left=this.tb,f.top=this.ub);b.seamLayer&&(this.F.context.finish(),b=this.N.style,b.left=this.tb,b.top=this.ub);this.H=l;this.U&&this.U.ha();this.V&&this.V.ha();this.ca&&this.ca.ha();this.qa&&this.qa.ha();this.ra&&this.ra.ha();a&&this.da&&this.da.T()};q.prototype.qb=function(a){var b=this.e.a;b.aboveLayer&&(this.Q.style.cursor=a);b.belowLayer&&(this.K.style.cursor=a);b.seamLayer&&(this.N.style.cursor=
a)};q.prototype.sb=function(a){var b=a.domElement,c=b.style;a.setFaceCulling(THREE.CullFaceFront,THREE.FrontFaceDirectionCCW);c.position="absolute";c.pointerEvents="none";x.body.appendChild(b)};q.prototype.md=function(){this.A&&this.A.l();this.B&&this.B.l();this.q&&this.q.l();this.v&&this.v.l();this.mb&&(this.lc(),this.mb=l);if(this.A&&this.A.D||this.B&&this.B.D||this.q&&this.q.D||this.v&&this.v.D){for(var a=this.e.I,b=new f.voodoo.Event("cameramove"),c=0,d=a.length;c<d;++c)a[c].dispatch(b);this.A&&
(this.A.D=l);this.B&&(this.B.D=l);this.q&&(this.q.D=l);this.v&&(this.v.D=l)}};q.prototype.lc=function(){var a=this.e.a,b=a.aboveLayer,c=a.belowLayer;if(c)if(b){var d=this.B.position.z;this.B.$(d-0.5,a.P)}else this.B.$(a.J,a.P);b&&(c?(d=this.A.position.z,this.A.$(a.J,d)):this.A.$(a.J,a.P))};q.prototype.nd=function(){var a=x.createElement("div"),b=x.documentElement;a.style.cssText="position: fixed; top: 0; left: 0; bottom: 0; right: 0;";b.insertBefore(a,b.firstChild);this.wb=new H(a.offsetWidth,a.offsetHeight);
b.removeChild(a)};q.prototype.od=function(){var a=x.body.style;a.width="100%";a.height="100%";a.margin="0px"};q.prototype.Y=h;v.prototype.destroy=function(){this.d.t(h,new f.voodoo.Event("destroy"));-1!==this.Ua&&f.clearInterval(this.Ua);-1!==this.Sa&&f.clearInterval(this.Sa);for(-1!==this.Ra&&f.cancelAnimationFrame(this.Ra);0<this.I.length;)this.I[0].destroy();this.I=h;this.h.n();this.Ma.n();this.d.n();"undefined"!==typeof f.voodoo.engine&&delete f.voodoo.engine;this.I=this.d=this.Ma=this.h=h;this.Ra=
this.Sa=this.Ua=-1;this.aa=this.eb=this.a=h;ca=0};v.prototype.frame=function(){this.l();this.h.T()};v.prototype.off=function(a,b){this.d.hb(a,b)};v.prototype.on=function(a,b){this.d.ib(a,b)};v.prototype.models=h;v.prototype.rc=function(a){this.I.push(a);this.d.t(h,new f.voodoo.Event("addmodel",a))};v.prototype.Rb=function(){return 0!==this.S};v.prototype.Yc=function(a){this.I.splice(this.I.indexOf(a),1);this.d.t(h,new f.voodoo.Event("removemodel",a));this.h.H=e};v.prototype.hc=function(a,b){var c=
this;this.Ra=requestAnimationFrame(function(){c.hc(a,b)});this.Rb()&&(a&&this.l(),b&&this.h.T())};v.prototype.fd=function(){var a=this;this.ja=this.Fa=this.S=0;f.addEventListener("focus",function(){a.S=0;a.ja=setTimeout(function(){a.S=Date.now();a.ja=0;a.h.cc()},a.a.gd)},l);f.addEventListener("blur",function(){a.S=0;0!==a.ja&&(clearTimeout(a.ja),a.ja=0)},l);setTimeout(function(){if(!x.hasFocus||x.hasFocus())a.S=Date.now()},a.a.hd)};v.prototype.l=function(){var a=0,b=Date.now();this.Rb()&&(a=(b-this.S)/
1E3,this.S=b);a>2*this.Fa?(b=this.Fa,this.Fa=a,a=b):this.Fa=a;this.aa.l();for(var b=this.I,c=0,d=b.length;c<d;++c)b[c].update(a);this.Ma.l()};v.prototype.pd=function(){!this.a.aboveLayer&&!this.a.belowLayer&&A.u("At least one layer must be enabled.","(Engine::validateOptions_)")};v.prototype.Ma=h;v.prototype.eb=h;v.prototype.a=h;v.prototype.pa=h;v.prototype.h=h;this.engine=v.prototype.aa=h;this.Engine=v;this.version=h;k.prototype.aboveLayer=e;k.prototype.aboveZIndex=9999;k.prototype.antialias=e;k.prototype.belowLayer=
e;k.prototype.belowZIndex=-1;k.prototype.Dc=500;k.prototype.fov=30;k.prototype.frameLoop=e;k.prototype.performanceScaling=e;k.prototype.Tc=45;k.prototype.Uc=3;k.prototype.realtime=e;k.prototype.renderer=ia.ThreeJs;k.prototype.renderInterval=0;k.prototype.bd=10;k.prototype.seamLayer=e;k.prototype.seamZIndex=1E4;k.prototype.standardLighting=e;k.prototype.stencils=e;k.prototype.gd=350;k.prototype.hd=1E3;k.prototype.updateInterval=0;k.prototype.P=1E4;k.prototype.J=0.1;this.Options=k;var T=n.extend();
T.prototype.createLight=function(){A.u("createLight_() undefined.");return h};T.prototype.load=function(){this.La=this.createLight();this.scene.add(this.La)};T.prototype.unload=function(){this.scene.remove(this.La)};T.prototype.setColor=function(a){a=f.voodoo.utility.convertCssColorToThreeJsColor(a);this.La.color.copy(a)};var W=r.extend();W.prototype.initialize=function(a){this.za=a.color||"white";var b=this;Object.defineProperty(this,"color",{get:function(){return b.za},set:function(a){b.view.setColor(a);
b.za=a}})};W.prototype.setUpViews=function(){this.color=this.za?this.za:"black"};W.prototype.color=h;W.prototype.stencilViewType=n.extend();var U=T.extend();U.prototype.createLight=function(){return new THREE.AmbientLight};var ja=W.extend();ja.prototype.name="AmbientLight";ja.prototype.viewType=U;U=T.extend();U.prototype.createLight=function(){return new THREE.PointLight};U.prototype.load=function(){T.prototype.load.apply(this);this.updatePosition()};U.prototype.updatePosition=function(){var a=this.La.position,
b=this.camera.position;a.x=b.x;a.y=b.y;a.z=b.z};var fa=W.extend();fa.prototype.name="CameraLight";fa.prototype.viewType=U;fa.prototype.setUpViews=function(){this.on("cameramove",function(){this.view.updatePosition()})}}for(var z=["voodoo"],H=f,I=0;I<z.length-1;++I)H=H[z[I]];if(H[z[z.length-1]]){var I=H[z[z.length-1]],ca=new Y,X;for(X in ca)I[X]=ca[X]}else H[z[z.length-1]]=new Y;H[z[z.length-1]].version="0.9.1.min"})(window,document,void 0);
