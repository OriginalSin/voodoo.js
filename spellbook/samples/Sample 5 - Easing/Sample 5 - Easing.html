<!doctype html>
<html>

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">

	<title>Easing Demo</title>
</head>

<script src="../../lib/three.min.js"></script>
<script src="../../lib/voodoo.min.js"></script>
<script src="../../lib/spellbook.min.debug.js"></script>

<body>
	<select id="funcType">
    <option>Linear</option>
    <option>Quadratic</option>
    <option>Cubic</option>
    <option>Quartic</option>
    <option>Quintic</option>
    <option>Sine</option>
    <option>Exponential</option>
    <option>Circular</option>
    <option>Elastic</option>
    <option>Back</option>
    <option selected>Bounce</option>
	</select>

	<select id="easeType">
    <option>Ease In</option>
    <option selected>Ease Out</option>
    <option>Ease In and Out</option>
	</select>

	<button onClick="go();">Go!</button>
</body>

<script type="text/javascript">
  function getEasing() {
  	var func = document.getElementById('funcType').value;
  	var ease = document.getElementById('easeType').value;

  	switch (func) {
  		case 'Linear':
  			switch(ease) {
  				case 'Ease In': return 'linear';
  				case 'Ease Out': return 'linear';
  				case 'Ease In and Out': return 'linear';
  			}
  		case 'Quadratic':
  			switch(ease) {
  				case 'Ease In': return 'easeInQuad';
  				case 'Ease Out': return 'easeOutQuad';
  				case 'Ease In and Out': return 'easeInOutQuad';
  			}
  		case 'Cubic':
  			switch(ease) {
  				case 'Ease In': return 'easeInCubic';
  				case 'Ease Out': return 'easeOutCubic';
  				case 'Ease In and Out': return 'easeInOutCubic';
  			}
  		case 'Quartic':
  			switch(ease) {
  				case 'Ease In': return 'easeInQuart';
  				case 'Ease Out': return 'easeOutQuart';
  				case 'Ease In and Out': return 'easeInOutQuart';
  			}
  		case 'Quintic':
  			switch(ease) {
  				case 'Ease In': return 'easeInQuint';
  				case 'Ease Out': return 'easeOutQuint';
  				case 'Ease In and Out': return 'easeInOutQuint';
  			}
  		case 'Sine':
  			switch(ease) {
  				case 'Ease In': return 'easeInSine';
  				case 'Ease Out': return 'easeOutSine';
  				case 'Ease In and Out': return 'easeInOutSine';
  			}
  		case 'Exponential':
  			switch(ease) {
  				case 'Ease In': return 'easeInExpo';
  				case 'Ease Out': return 'easeOutExpo';
  				case 'Ease In and Out': return 'easeInOutExpo';
  			}
  		case 'Circular':
  			switch(ease) {
  				case 'Ease In': return 'easeInCirc';
  				case 'Ease Out': return 'easeOutCirc';
  				case 'Ease In and Out': return 'easeInOutCirc';
  			}
  		case 'Elastic':
  			switch(ease) {
  				case 'Ease In': return 'easeInElastic';
  				case 'Ease Out': return 'easeOutElastic';
  				case 'Ease In and Out': return 'easeInOutElastic';
  			}
  		case 'Back':
  			switch(ease) {
  				case 'Ease In': return 'easeInBack';
  				case 'Ease Out': return 'easeOutBack';
  				case 'Ease In and Out': return 'easeInOutBack';
  			}
  		case 'Bounce':
  			switch(ease) {
  				case 'Ease In': return 'easeInBounce';
  				case 'Ease Out': return 'easeOutBounce';
  				case 'Ease In and Out': return 'easeInOutBounce';
  			}
  	}
  }

	var Cube = voodoo.Movable.extend({
		viewType: voodoo.View.extend({
		  load: function() {
		  	this.base.load();
		  	var geometry = new THREE.BoxGeometry(200, 200, 200);
		  	var material = new THREE.MeshLambertMaterial({color: 0xFF0000, ambient: 0x000000});
		  	this.scene.add(new THREE.Mesh(geometry, material));
		  }
		})
	});

  var left, right;

  function calculatePositions() {
		left = [window.innerWidth / 5, window.innerHeight / 2, 0];
		right = [4 * window.innerWidth / 5, window.innerHeight / 2, 0];
	}
	calculatePositions();

	var cube = new Cube();
	cube.position = left;

  var directionToggle = true;

  function go() {
  	calculatePositions();
  	var easingFunction = getEasing();

  	if (directionToggle)
	  	cube.moveTo(right, 1, easingFunction);
	  else
      cube.moveTo(left, 1, easingFunction);

	  directionToggle = !directionToggle;
  }
</script>

</html>