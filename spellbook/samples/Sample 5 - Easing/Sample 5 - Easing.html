<!doctype html>
<html>

<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">

	<title>Easing Demo</title>
</head>

<script src="../../lib/three.min.js"></script>
<script src="../../lib/voodoo.min.js"></script>
<script src="../../lib/spellbook.min.debug.js"></script>

<body>
	<select id="funcType">
    <option>Linear</option>
    <option>Quadratic</option>
    <option>Cubic</option>
    <option>Quartic</option>
    <option>Quintic</option>
    <option>Sine</option>
    <option>Exponential</option>
    <option>Circular</option>
    <option>Elastic</option>
    <option>Back</option>
    <option>Bounce</option>
	</select>

	<select id="easeType">
    <option>Ease In</option>
    <option>Ease Out</option>
    <option>Ease In and Out</option>
	</select>

	<button onClick="go();">Go!</button>
</body>

<script type="text/javascript">
  function getEasing() {
  	var func = document.getElementById('funcType').value;
  	var ease = document.getElementById('easeType').value;

    var voodooEasing = voodoo.easing;

  	switch (func) {
  		case 'Linear':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.linear;
  				case 'Ease Out': return voodooEasing.linear;
  				case 'Ease In and Out': return voodooEasing.linear;
  			}
  		case 'Quadratic':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInQuad;
  				case 'Ease Out': return voodooEasing.easeOutQuad;
  				case 'Ease In and Out': return voodooEasing.easeInOutQuad;
  			}
  		case 'Cubic':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInCubic;
  				case 'Ease Out': return voodooEasing.easeOutCubic;
  				case 'Ease In and Out': return voodooEasing.easeInOutCubic;
  			}
  		case 'Quartic':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInQuart;
  				case 'Ease Out': return voodooEasing.easeOutQuart;
  				case 'Ease In and Out': return voodooEasing.easeInOutQuart;
  			}
  		case 'Quintic':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInQuint;
  				case 'Ease Out': return voodooEasing.easeOutQuint;
  				case 'Ease In and Out': return voodooEasing.easeInOutQuint;
  			}
  		case 'Sine':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInSine;
  				case 'Ease Out': return voodooEasing.easeOutSine;
  				case 'Ease In and Out': return voodooEasing.easeInOutSine;
  			}
  		case 'Exponential':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInExpo;
  				case 'Ease Out': return voodooEasing.easeOutExpo;
  				case 'Ease In and Out': return voodooEasing.easeInOutExpo;
  			}
  		case 'Circular':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInCirc;
  				case 'Ease Out': return voodooEasing.easeOutCirc;
  				case 'Ease In and Out': return voodooEasing.easeInOutCirc;
  			}
  		case 'Elastic':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInElastic;
  				case 'Ease Out': return voodooEasing.easeOutElastic;
  				case 'Ease In and Out': return voodooEasing.easeInOutElastic;
  			}
  		case 'Back':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInBack;
  				case 'Ease Out': return voodooEasing.easeOutBack;
  				case 'Ease In and Out': return voodooEasing.easeInOutBack;
  			}
  		case 'Bounce':
  			switch(ease) {
  				case 'Ease In': return voodooEasing.easeInBounce;
  				case 'Ease Out': return voodooEasing.easeOutBounce;
  				case 'Ease In and Out': return voodooEasing.easeInOutBounce;
  			}
  	}
  }

	var Cube = voodoo.Movable.extend({
		viewType: voodoo.View.extend({
		  load: function() {
		  	this.base.load();
		  	var geometry = new THREE.CubeGeometry(200, 200, 200);
		  	var material = new THREE.MeshLambertMaterial({color: 0xFF0000, ambient: 0x000000});
		  	this.scene.add(new THREE.Mesh(geometry, material));
		  }
		})
	});

  var left, right;

  function calculatePositions() {
		left = [window.innerWidth / 5, window.innerHeight / 2, 0];
		right = [4 * window.innerWidth / 5, window.innerHeight / 2, 0];
	}
	calculatePositions();

	var cube = new Cube();
	cube.position = left;

  var directionToggle = true;

  function go() {
  	calculatePositions();
  	var easingFunction = getEasing();

  	if (directionToggle)
	  	cube.moveTo(right, 1, easingFunction);
	  else
      cube.moveTo(left, 1, easingFunction);

	  directionToggle = !directionToggle;
  }
</script>

</html>